<!DOCTYPE html>
<html lang="en">

<head>
  <!-- Required meta tags -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <title>Admin</title>
  <!-- plugins:css -->
  <link rel="icon" type="image/x-icon"
    href="https://png.pngtree.com/png-vector/20191125/ourmid/pngtree-beautiful-admin-roles-line-vector-icon-png-image_2035379.jpg">

  <link rel="stylesheet" href="/admin/application/theme/vendors/feather/feather.css">
  <link rel="stylesheet" href="/admin/application/theme/vendors/ti-icons/css/themify-icons.css">
  <link rel="stylesheet" href="/admin/application/theme/vendors/css/vendor.bundle.base.css">
  <link rel="stylesheet" type="text/css" href="/admin/application/theme/css/min/sweetalert.min.css">
  <!-- endinject -->
  <!-- Plugin css for this page -->
  <!-- End plugin css for this page -->
  <!-- inject:css -->
  <link rel="stylesheet" href="/admin/application/theme/css/vertical-layout-light/style.css">
  <!-- endinject -->
  <!-- <link rel="shortcut icon" href="theme/images/favicon.png" /> -->
</head>
<style>
  .brand-logo {
    height: 180px;
    width: 300px;
    margin: 0px auto;

  }

  .btn-primary,
  .wizard>.actions a {
    color: #fff;
    background-color: #4CAF50 !important;
    border-color: #4CAF50 !important;
  }

  .auth .auth-form-light {
    background: #ffffff;
    border: 10px solid #007bff;
  }

  .auth-form-light.text-left.py-5.px-4.px-sm-5.text-center {
    margin-top: -208px;
  }

  img {
    vertical-align: middle;
    border-style: none;
    width: 103px;
  }
</style>

<body>
  <!-- <div class="container-scroller"> 
    <div class="container-fluid page-body-wrapper full-page-wrapper">
      <div class="content-wrapper d-flex align-items-center auth px-0">
        <div class="row w-100 mx-0">
          <div class="col-lg-4 mx-auto">
            <div class="auth-form-light text-left py-5 px-4 px-sm-5 text-center">
              <div class="brand-logo">
                <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSPzjwjnjWy3zDm0rIPDw3hXLww67q0ANy0LA&usqp=CAU" alt="logo">
              </div>
              <h4>Reset Password</h4>
              <h6 class="font-weight-light">Your new password must be diffrent from the old password</h6>
              <form class="pt-3" id="reset-password" method="post" role="form">
                <div class="form-group">
                  <input type="number" name="token" class="form-control" placeholder="Enter Token Number" id="token"
                    onkeyup="this.value=this.value.replace(/[^0-9]/g,'');">
                </div>
                <div class="form-group">
                  <input type="password" name="newpwd" class="form-control" placeholder="New Password" id="newpwd">
                </div>
                <div class="form-group">
                  <input type="password" name="confirmpwd" class="form-control" placeholder="Confirm Password"
                    id="confirmpwd">
                </div>  
                <div class="mt-3">
                  <button
                    class="btn btn-block btn-primary btn-lg font-weight-medium auth-form-btn">Reset Password<span></span><span></span><span></span><span></span><span></span></button>
                </div>
                <div class="my-2 d-flex justify-content-between align-items-center">
                  <div class="form-check">





                    
                  </div>

                </div>

              
              </form>
            </div>
          </div>
        </div>
      </div>
    
    </div>
    
  
 </div> -->

  <div class="wrapper">
    <div class="container">
      <div class="col-left">
        <div class="login-text">
          <h2>Logo</h2>
          <p>
            Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed eget eros dapibus, ultricies tellus vitae,
            consectetur tortor. Etiam rutrum placerat
          </p>
          <a class="btn" href="">Read More</a>
        </div>
      </div>
      <div class="col-right">
        <div class="login-form">
          <div class="auth-form-light text-left py-5 px-4 px-sm-5 text-center">
            <div class="brand-logo">
              <img
                src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSPzjwjnjWy3zDm0rIPDw3hXLww67q0ANy0LA&usqp=CAU"
                alt="logo">
            </div>
            <h4>Reset Password</h4>
            <h6 class="font-weight-light">Your new password must be diffrent from the old password</h6>
            <form action="/resetPassword/:token" method="PATCH" >

              <p>
                <input type="password" name="newpwd" class="form-control" placeholder="Change Password" id="newpwd">
              </p>

              <p>
                <button class="btn btn-block btn-primary btn-lg font-weight-medium auth-form-btn">Reset
                  Password<span></span><span></span><span></span><span></span><span></span></button>
              </p>

            </form>
          </div>
        </div>
      </div>

    </div>
    <script src="/admin/application/theme/vendors/js/vendor.bundle.base.js"></script>

    <script src="/admin/application/theme/js/off-canvas.js"></script>
    <script src="/admin/application/theme/js/hoverable-collapse.js"></script>
    <script src="/admin/application/theme/js/template.js"></script>
    <script src="/admin/application/theme/js/settings.js"></script>
    <script src="/admin/application/theme/js/todolist.js"></script>
    <script src="/admin/application/theme/js/jquery.min.js"></script>
    <script src="/admin/application/theme/js/sweetalert-min.js" type="text/javascript"></script>
    <script src="/admin/application/theme/js/main.js"></script>
    <script src="/admin/application/theme/js/form-validation.min.js"></script>

</body>
<style>
  * * * * * General CSS * * * * */ *,
  *::before,
  *::after {
    box-sizing: border-box;
  }

  body {
    margin: 0;
    font-family: Arial, Helvetica, sans-serif;
    font-size: 16px;
    font-weight: 400;
    color: #666666;
    background: white;
  }

  .wrapper {
    margin: 0 auto;
    width: 100%;
    max-width: 1140px;
    min-height: 100vh;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-direction: column;
  }

  .container {
    position: relative;
    width: 95%;

    height: 550px;
    display: flex;
    background: #ffffff;
    box-shadow: 0 0 15px rgba(0, 0, 0, .1);
  }

  .credit {
    position: relative;
    margin: 25px auto 0 auto;
    width: 100%;
    text-align: center;
    color: #666666;
    font-size: 16px;
    font-weight: 400;
  }

  .credit a {
    color: #222222;
    font-size: 16px;
    font-weight: 600;
  }

  /* * * * * Login Form CSS * * * * */
  h2 {
    margin: 0 0 15px 0;
    font-size: 30px;
    font-weight: 700;
    text-align: center;
  }

  h2 img {
    width: 120px;
  }

  p {
    margin: 0 0 20px 0;
    font-size: 16px;
    font-weight: 500;
    line-height: 22px;
  }

  .btn {
    display: inline-block;
    padding: 7px 20px;
    font-size: 16px;
    letter-spacing: 1px;
    text-decoration: none;
    border-radius: 5px;
    color: #ffffff;
    outline: none;
    border: 1px solid #ffffff;
    transition: .3s;
    -webkit-transition: .3s;
  }

  .btn:hover {
    color: #ffffff;
    background: #ffffff;
  }

  .col-left,
  .col-right {
    width: 55%;
    padding: 45px 35px;
    display: flex;
  }

  .col-left {
    width: 45%;
    background: #4CAF50;
    -webkit-clip-path: polygon(98% 17%, 100% 34%, 98% 51%, 100% 68%, 98% 84%, 100% 100%, 0 100%, 0 0, 100% 0);
    clip-path: polygon(98% 17%, 100% 34%, 98% 51%, 100% 68%, 98% 84%, 100% 100%, 0 100%, 0 0, 100% 0);
  }

  @media(max-width: 575.98px) {
    .container {
      flex-direction: column;
      box-shadow: none;
    }

    .col-left,
    .col-right {
      width: 100%;
      margin: 0;
      padding: 30px;
      -webkit-clip-path: none;
      clip-path: none;
    }
  }

  .login-text {
    position: relative;
    width: 100%;
    color: #ffffff;
    text-align: center;
    margin-top: 137px;
  }

  .login-form {
    position: relative;
    width: 100%;
    color: #666666;
    margin-top: 257px;
  }

  .login-form p:last-child {
    margin: 0;
  }

  .login-form p a {
    color: #4CAF50;
    font-size: 14px;
    text-decoration: none;
  }

  .login-form p:last-child a:last-child {
    float: right;
  }

  .login-form label {
    display: block;
    width: 100%;
    margin-bottom: 2px;
    letter-spacing: .5px;
  }

  .login-form p:last-child label {
    width: 60%;
    float: left;
  }

  .login-form label span {
    color: #ff574e;
    padding-left: 2px;
  }

  .login-form input {
    display: block;
    width: 100%;
    height: 40px;
    padding: 0 10px;
    font-size: 16px;
    letter-spacing: 1px;
    outline: none;
    border: 1px solid #cccccc;
    border-radius: 5px;
  }

  .login-form input:focus {
    border-color: #ff574e;
  }

  .login-form input.btn {
    color: #ffffff;
    background: #4CAF50;
    border-color: #4CAF50;
    outline: none;
    cursor: pointer;
  }

  .login-form input.btn:hover {
    color: #4CAF50;
    background: #ffffff;
  }

  h4,
  .h4 {
    font-size: 1.125rem;
    font-style: italic;
    font-family: Arial, Helvetica, sans-serif;
    margin-top: 2px;
    font-size: 24px;
    font-weight: 550 !important;
  }

  h6,
  .h6 {
    font-size: 0.9375rem;
    font-style: italic;
  }
</style>

</html>



<!-- <script>
  let digitValidate = function (ele) {
    ele.value = ele.value.replace(/[^0-9]/g, '');
  }

  let tabChange = function (val) {
    let ele = document.querySelectorAll('input');
    if (ele[val - 1].value != '') {
      ele[val].focus()
    } else if (ele[val - 1].value == '') {
      ele[val - 2].focus()
    }
  }
  $(function () {

    $("#resetpassword").validate({
      errorPlacement: function (error, element) {
        $(element)
          .closest("form")
          .find("label[for='" + element.attr("id") + "']")
          .append(error);

      },
      errorElement: "span",
      rules: {
        token: {
          required: true,
          maxlength: 4,

        },
        newpwd: {
          required: true,
          // minlength: 8,
          maxlength: 100,
        },
        confirmpwd: {
          required: true,
          equalTo: "#newpwd",
          // minlength: 8,
          maxlength: 100
        },

      },
      submitHandler: function () {


        let email = localStorage.getItem("signinEmail");
        let code = $("#token").val();
        let password = $("#newpwd").val();

        $.ajax({
          url: '/resetpassword',
          data: 'code=' + code + '&email=' + email + '&password=' + password,
          cache: false,
          processData: false,
          method: 'POST',
          type: 'POST',
          success: function (_res) {


            window.location.href = "/dashboard  ";
            KWACHA_MAIN.sweetAlert(successConfig);
            // $('#activateAccount').trigger("reset");

          },
          error: function (e) {
            let responseText = JSON.parse(e.responseText);
            let errorConfig = {
              title: 'Error',
              message: responseText.message,
              type: 'error'
            }
            KWACHA_MAIN.sweetAlert(errorConfig);
          }

        });

      },

    });

  });


</script> -->